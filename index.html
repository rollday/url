<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KV 操作</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .result { margin-top: 20px; }
    </style>
</head>
<body>

<h1>Cloudflare Workers KV 操作</h1>

<form id="kvForm">
    <label for="action">操作:</label>
    <select id="action" required>
        <option value="write">写入</option>
        <option value="read">读取</option>
        <option value="delete">删除</option>
    </select>
    <br><br>

    <label for="key">Key:</label>
    <input type="text" id="key" required>
    <br><br>

    <label for="value">Value:</label>
    <input type="text" id="value">
    <br><br>

    <button type="submit">提交</button>
</form>

<div class="result" id="result"></div>

<script>
document.getElementById('kvForm').addEventListener('submit', async (event) => {
    event.preventDefault(); // 阻止表单提交的默认行为

    const action = document.getElementById('action').value;
    const key = document.getElementById('key').value;
    const value = document.getElementById('value').value;

    const response = await fetch('https://url.rollday.site/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ action, key, value: action === 'write' ? value : undefined }),
    });

    const result = await response.text(); // 处理响应
    document.getElementById('result').innerText = result; // 显示结果
});
</script>

</body>
</html>
